extends Node2D

@export (NodePath)onready var target = (get_node(target) as Node2D) if target else get_parent()
@export var squash_vector := Vector2(1.5, 0.5)
@export var squash_duration := 0.25
@export var stretch_vector := Vector2(0.5, 1.5)
@export var stretch_duration := 0.25

@onready var tween: = $Tween



func squash(percentage = 1.0) -> void :
	tween.remove_all()
	var initial_value = lerp(Vector2.ONE, squash_vector, percentage)
	tween.interpolate_property(target, "scale", initial_value, Vector2.ONE, squash_duration, Tween.TRANS_CUBIC, Tween.EASE_OUT)
	tween.start()


func stretch(percentage = 1.0) -> void :
	tween.remove_all()
	var initial_value = lerp(Vector2.ONE, stretch_vector, percentage)
	tween.interpolate_property(target, "scale", initial_value, Vector2.ONE, stretch_duration, Tween.TRANS_CUBIC, Tween.EASE_OUT)
	tween.start()
